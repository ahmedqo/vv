<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.0/main.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.0/main.min.js" defer></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet" />
    <title>Document</title>
    <style>
        * {
            font-family: "Poppins", sans-serif;
            font-family: "Roboto", sans-serif;
            font-family: "Roboto Mono", monospace;
        }
        
        .fc-header-toolbar {
            flex-wrap: wrap;
        }
        
        .fc-header-toolbar .fc-toolbar-chunk:nth-child(2) {
            text-align: center;
            width: 100%;
            order: -1;
        }
        
        .fc-header-toolbar button,
        .fc-header-toolbar .fc-icon {
            background-color: rgba(59, 130, 246, 1) !important;
            vertical-align: unset !important;
            font-size: 14px !important;
            border: unset !important;
        }
    </style>
</head>

<body>
    <section class="w-full my-6 md:my-10">
        <h1 class="text-3xl font-bold mb-8 flex items-center justify-between">Schedule</h1>
        <div class="w-full rounded-md p-4 bg-white">
            <div id="calendar"></div>
        </div>
        <div id="overlay" class="hidden fixed p-4 inset-0 bg-gray-900 bg-opacity-50 z-50 flex items-center justify-center">
            <button onclick="toggle()" class="absolute top-2 right-2 inline-flex items-center justify-center rounded-md text-white hover:text-grey-200 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500">
					<svg class="block w-10 h-10 pointer-events-none" fill="currentcolor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
						<path
							d="M12.45 37.65 10.35 35.55 21.9 24 10.35 12.45 12.45 10.35 24 21.9 35.55 10.35 37.65 12.45 26.1 24 37.65 35.55 35.55 37.65 24 26.1Z"
						/>
					</svg>
				</button>
            <div class="w-full md:w-1/2 rounded-md p-4 bg-white">
                <div class="flex flex-col gap-4">
                    <div class="flex-1 flex flex-col gap-2">
                        <label id="title" class="text-xl md:text-2xl mb-2 font-black flex justify-between text-grey-darkest"></label>
                    </div>
                    <div class="flex-1 flex flex-col gap-2">
                        <label class="text-md flex justify-between text-grey-darkest">Name</label>
                        <div id="name" class="h-12 text-md flex items-center w-full bg-gray-50 text-grey-darkest px-4 py-2 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"></div>
                    </div>
                    <div class="flex-1 flex flex-col gap-2">
                        <label class="text-md flex justify-between text-grey-darkest">Email</label>
                        <div id="email" class="h-12 text-md flex items-center w-full bg-gray-50 text-grey-darkest px-4 py-2 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"></div>
                    </div>
                    <div class="flex-1 flex flex-col gap-2">
                        <label class="text-md flex justify-between text-grey-darkest">Phone</label>
                        <div id="phone" class="h-12 text-md flex items-center w-full bg-gray-50 text-grey-darkest px-4 py-2 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"></div>
                    </div>
                    <div class="flex-1 flex flex-col gap-2">
                        <label class="text-md flex justify-between text-grey-darkest">Project type</label>
                        <div id="type" class="h-12 text-md flex items-center w-full bg-gray-50 text-grey-darkest px-4 py-2 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <script defer>
        document.addEventListener("DOMContentLoaded", function() {
            var calendarEl = document.getElementById("calendar");

            var Calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: "dayGridMonth",
                initialDate: Date.now(),
                allDaySlot: false,
                height: window.innerHeight,
                headerToolbar: {
                    left: "prev,next,today",
                    center: "title",
                    right: "dayGridMonth,timeGridWeek,timeGridDay,list",
                },
                businessHours: {
                    daysOfWeek: [1, 2, 3, 4, 5],
                    startTime: "16:00",
                    endTime: "19:00",
                },
                eventClick: function(info) {
                    info.jsEvent.preventDefault();
                    var data = JSON.parse(info.event.id);
                    setData(data);
                    toggle();
                },
                events: [{
                    title: "test ev",
                    start: "2022-06-20T16:00:00",
                    url: "#",
                    id: JSON.stringify({
                        id: 10,
                        name: "John Doe",
                        email: "john@domain.com",
                        phone: "+212679719118",
                        type: "type 1",
                        date: "05/06/2020",
                        hour: "5",
                    }),
                }, {
                    title: "Long Event",
                    start: "2022-06-07T16:00:00",
                    url: "#",
                    id: JSON.stringify({
                        id: 10,
                        name: "John Doe 1",
                        email: "john@domain.com",
                        phone: "+212679719118",
                        type: "type 1",
                        date: "05/06/2020",
                        hour: "5",
                    }),
                }, {
                    title: "Repeating Event",
                    start: "2022-06-09T16:00:00",
                    url: "#",
                    id: JSON.stringify({
                        id: 10,
                        name: "John Doe 2",
                        email: "john@domain.com",
                        phone: "+212679719118",
                        type: "type 1",
                        date: "05/06/2020",
                        hour: "5",
                    }),
                }, {
                    title: "Repeating Event",
                    start: "2022-06-16T16:00:00",
                    url: "#",
                    id: JSON.stringify({
                        id: 10,
                        name: "John Doe 3",
                        email: "john@domain.com",
                        phone: "+212679719118",
                        type: "type 1",
                        date: "05/06/2020",
                        hour: "5",
                    }),
                }, {
                    title: "Conference",
                    start: "2022-06-11T16:00:00",
                    url: "#",
                    id: JSON.stringify({
                        id: 10,
                        name: "John Doe 4",
                        email: "john@domain.com",
                        phone: "+212679719118",
                        type: "type 1",
                        date: "05/06/2020",
                        hour: "5",
                    }),
                }, {
                    title: "Meeting",
                    start: "2022-06-12T10:30:00",
                    url: "#",
                    id: JSON.stringify({
                        id: 10,
                        name: "John Doe 5",
                        email: "john@domain.com",
                        phone: "+212679719118",
                        type: "type 1",
                        date: "05/06/2020",
                        hour: "5",
                    }),
                }, {
                    title: "Lunch",
                    start: "2022-06-12T12:00:00",
                    url: "#",
                    id: JSON.stringify({
                        id: 10,
                        name: "John Doe 6",
                        email: "john@domain.com",
                        phone: "+212679719118",
                        type: "type 1",
                        date: "05/06/2020",
                        hour: "5",
                    }),
                }, {
                    title: "Meeting",
                    start: "2022-06-12T14:30:00",
                    url: "#",
                    id: JSON.stringify({
                        id: 10,
                        name: "John Doe 7",
                        email: "john@domain.com",
                        phone: "+212679719118",
                        type: "type 1",
                        date: "05/06/2020",
                        hour: "5",
                    }),
                }, {
                    title: "Birthday Party",
                    start: "2022-06-13T07:00:00",
                    url: "#",
                    id: JSON.stringify({
                        id: 10,
                        name: "John Doe 8",
                        email: "john@domain.com",
                        phone: "+212679719118",
                        type: "type 1",
                        date: "05/06/2020",
                        hour: "5",
                    }),
                }, {
                    title: "Click for Google",
                    start: "2022-06-28T16:00:00",
                    url: "#",
                    id: JSON.stringify({
                        id: 10,
                        name: "John Doe 9",
                        email: "john@domain.com",
                        phone: "+212679719118",
                        type: "type 1",
                        date: "05/06/2022",
                        hour: "5",
                    }),
                }, ],
            });

            Calendar.render();
            window.c = Calendar;
        });

        window.addEventListener("resize", function() {
            document.querySelector("#calendar").style.height = window.innerHeight + "px";
        });

        const daysList = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
        const monthsList = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Aug", "Oct", "Nov", "Dec"];
        let amOrPm;

        function twelveHours(date) {
            if (date.getHours() > 12) {
                amOrPm = "PM";
                let twentyFourHourTime = date.getHours();
                let conversion = twentyFourHourTime - 12;
                return `${conversion}`;
            } else {
                amOrPm = "AM";
                return `${date.getHours()}`;
            }
        }

        function setData(data) {
            const date = new Date(data.date + " 0" + data.hour + ":00:00 pm");
            let _date = date.getDate();
            let month = monthsList[date.getMonth()];
            let year = date.getFullYear();
            let day = daysList[date.getDay()];

            let today = `${_date} ${month} ${year}, ${day}`;
            let hours = twelveHours(date);
            let minutes = date.getMinutes();
            let currentTime = `${hours > 9 ? hours : "0" + hours}:${minutes > 9 ? minutes : "0" + minutes} ${amOrPm}`;

            document.getElementById("title").innerHTML = today + " " + currentTime;
            document.getElementById("name").innerHTML = data["name"];
            document.getElementById("email").innerHTML = data["email"];
            document.getElementById("phone").innerHTML = data["phone"];
            document.getElementById("type").innerHTML = data["type"];
        }

        function toggle() {
            var ovl = document.querySelector("#overlay");
            ovl.classList.toggle("hidden");
        }
    </script>
</body>

</html>